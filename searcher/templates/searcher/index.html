{% extends 'base.html' %}

{% load static %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{% static "searcher/style.css" %}">
{% endblock %}

{% block body %}
	<form action="" method="post">
		<div class="input-group">
			{% csrf_token %}
			{{ form.query }}
			<span class="input-group-btn">
				<input class="btn btn-primary" type="submit" value="Search" />
			</span>
		</div>
	</form>

	<br/>

	{% for entry in paginated_matching_entries %}
		<div>
			{% if matches_all_entries %}
				{{ entry.jp_text }}<br/>{{ entry.en_text }}
			{% else %}
				{% for highlight, text in entry.jp_text_highlighted %}{% if highlight %}<b>{% endif %}{{ text }}{% if highlight %}</b>{% endif %}{% endfor %}
				<br/>
				{% for highlight, text in entry.en_text_highlighted %}{% if highlight %}<b>{% endif %}{{ text }}{% if highlight %}</b>{% endif %}{% endfor %}
			{% endif %}

			<br/>
			<span class="badge badge-primary">noun</span>
			<span class="badge badge-primary">comp</span>
		</div>
		<hr/>
	{% endfor %}

	<br/>

	<div class="float-left">
		{% if paginated_matching_entries.has_previous %}
			<a class="btn btn-secondary" href='?query={{ request.GET.query }}&page={{ paginated_matching_entries.previous_page_number}}'>Previous</a>
		{% endif %}
	</div>
	<div class="float-right">
		{% if paginated_matching_entries.has_next %}
			<a class="btn btn-secondary" href='?query={{ request.GET.query }}&page={{ paginated_matching_entries.next_page_number}}'>Next</a>
		{% endif %}
	</div>
{% endblock %}
